import{E as u}from"./index.6113df79.js";import{b as D}from"./babylon.939b618b.js";var p={debug:!0,showFPS:!0,chunkSize:32,chunkAddDistance:2.5,chunkRemoveDistance:3.5},e=new u(p),k=[.45,.36,.22],w=[.1,.8,.2];e.registry.registerMaterial("dirt",{color:k});e.registry.registerMaterial("grass",{color:w});var y=e.registry.registerBlock(1,{material:"dirt"}),l=e.registry.registerBlock(2,{material:"grass"});function B(r,t,s){if(t<-3)return y;var c=2*Math.sin(r/10)+3*Math.cos(s/20);return t<c?l:0}e.world.on("worldDataNeeded",function(r,t,s,c,d){for(var a=0;a<t.shape[0];a++)for(var i=0;i<t.shape[1];i++)for(var n=0;n<t.shape[2];n++){var v=B(s+a,c+i,d+n);t.set(a,i,n,v)}e.world.setChunkData(r,t)});var g=e.playerEntity,h=e.entities.getPositionData(g),m=h.width,f=h.height,z=e.rendering.getScene(),o=D.CreateBox("player-mesh",1,z);o.scaling.x=m;o.scaling.z=m;o.scaling.y=f;e.entities.addComponent(g,e.entities.names.mesh,{mesh:o,offset:[0,f/2,0]});e.inputs.down.on("fire",function(){if(e.targetedBlock){var r=e.targetedBlock.position;e.setBlock(0,r[0],r[1],r[2])}});e.inputs.down.on("alt-fire",function(){if(e.targetedBlock){var r=e.targetedBlock.adjacent;e.setBlock(l,r[0],r[1],r[2])}});e.inputs.bind("alt-fire","KeyE");e.on("tick",function(r){var t=e.inputs.pointerState.scrolly;t!==0&&(e.camera.zoomDistance+=t>0?1:-1,e.camera.zoomDistance<0&&(e.camera.zoomDistance=0),e.camera.zoomDistance>10&&(e.camera.zoomDistance=10))});
